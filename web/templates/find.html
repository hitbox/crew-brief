{% extends "base.html" %}


{% from "render.html" import render_pagination %}
{% from "render.html" import render_table_and_pagination %}


{% set button_types = ('SubmitField', ) %}


{% block content %}
    <div>
        <pre>{{ query }}</pre>
        {% if stmt is not none %}<pre class="data sql">{{ stmt }}</pre>{% endif %}
        <form>
            <div class="form-fields">{% for field in form|rejectattr('type', 'in', button_types) %}
                {{ field.label }}
                {{ field }}
                <ul>{% for error in field.errors %}
                    <li>{{ error }}</li>
                {% endfor %}</ul>
            {% endfor %}</div>
            <div class="form-buttons">{% for field in form|selectattr('type', 'in', button_types) %}
                {{ field }}
            {% endfor %}</div>
        </form>
    </div>
    {% if pagination %}<div>{{ render_table_and_pagination(pagination, table) }}</div>{% endif %}
{% endblock %}
